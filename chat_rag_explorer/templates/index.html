<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Chat RAG Explorer</title>
        <link rel="stylesheet" href="/static/style.css" />
    </head>
    <body>
        <div class="main-layout">
            <div class="app-container">
                <header>
                    <div class="header-content">
                        <h1>Chat RAG Explorer</h1>
                        <a href="/settings" class="settings-link" title="Settings">&#9881;</a>
                    </div>
                </header>
                
                <div id="chat-history" class="chat-history">
                    <!-- Messages will appear here -->
                </div>

                <div class="input-area">
                    <form id="chat-form">
                        <input
                            type="text"
                            id="message-input"
                            placeholder="Type your message..."
                            autocomplete="off"
                        />
                        <button type="submit">Send</button>
                    </form>
                </div>
            </div>

            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>Last Interaction</h3>
                    <div class="metric">
                        <span class="label">Model:</span>
                        <span id="metric-model" class="value">-</span>
                    </div>
                    <div class="metric">
                        <span class="label">Prompt Tokens:</span>
                        <span id="metric-prompt-tokens" class="value">0</span>
                    </div>
                    <div class="metric">
                        <span class="label">Completion Tokens:</span>
                        <span id="metric-completion-tokens" class="value">0</span>
                    </div>
                    <div class="metric">
                        <span class="label">Total Tokens:</span>
                        <span id="metric-total-tokens" class="value">0</span>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h3>Session Totals</h3>
                    <div class="metric">
                        <span class="label">Total Prompt:</span>
                        <span id="total-prompt-tokens" class="value">0</span>
                    </div>
                    <div class="metric">
                        <span class="label">Total Completion:</span>
                        <span id="total-completion-tokens" class="value">0</span>
                    </div>
                    <div class="metric">
                        <span class="label">Total Tokens:</span>
                        <span id="total-total-tokens" class="value">0</span>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h3>Context Info</h3>
                    <p class="small">RAG context will appear here in future updates.</p>
                </div>
            </aside>
        </div>

        <script src="/static/marked.min.js"></script>

        <script src="/static/purify.min.js"></script>
        <script src="/static/script.js"></script>
    </body>
</html>
